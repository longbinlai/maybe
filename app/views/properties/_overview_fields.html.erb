<%# locals: (form:) %>

<div class="flex flex-col gap-2">
  <%= form.text_field :name,
                  label: t("properties.form.name_label"),
                  placeholder: t("properties.form.name_placeholder"),
                  required: true %>

  <%= form.select :subtype,
                Property::SUBTYPES.map { |k, v| [
                  t("activerecord.attributes.property.subtypes.#{k}.long", default: v[:long]), 
                  k
                ] },
                { prompt: t("properties.form.select_type"), label: t("properties.form.property_type_label") }, required: true %>

  <%= form.hidden_field :accountable_type, value: "Property" %>

  <%= form.fields_for :accountable do |property_form| %>
    <div class="flex items-center gap-2">
      <%= property_form.number_field :year_built,
                    label: t("properties.form.year_built_optional"),
                    placeholder: t("properties.form.year_built_placeholder"),
                    min: 1800,
                    max: Time.current.year %>
    </div>

    <div class="flex items-center gap-2">
      <%= property_form.number_field :area_value,
                      label: t("properties.form.area_optional"),
                      placeholder: t("properties.form.area_placeholder"),
                      min: 0 %>
      <%= property_form.select :area_unit,
                      [[t("properties.form.square_feet"), "sqft"], [t("properties.form.square_meters"), "sqm"]],
                      { label: t("properties.form.area_unit_label") } %>
    </div>
  <% end %>

</div>
