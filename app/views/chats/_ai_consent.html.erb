<div class="rounded-lg p-4 bg-container shadow-border-xs">
  <div class="flex justify-center mb-4">
    <%= render "chats/ai_avatar" %>
  </div>

  <h3 class="text-sm font-medium text-primary mb-1 -mt-2 text-center"><%= t("chats.ai_consent.title") %></h3>

  <p class="text-gray-600 mb-4 text-sm text-center">
    <% if Current.user.ai_available? %>
      <%= t("chats.ai_consent.description_available") %>
    <% else %>
      <%= t("chats.ai_consent.description_unavailable") %> <code class="bg-surface-inset px-1 py-0.5 rounded font-mono text-xs">OPENAI_ACCESS_TOKEN</code>
    <% end %>
  </p>

  <% if Current.user.ai_available? %>
    <%= form_with url: user_path(Current.user), method: :patch, class: "w-full", data: { turbo: false } do |form| %>
      <%= form.hidden_field "user[ai_enabled]", value: true %>
      <%= form.hidden_field "user[redirect_to]", value: "home" %>
      <%= form.submit t("chats.ai_consent.enable_button"), class: "cursor-pointer hover:bg-inverse-hover w-full py-2 px-4 bg-inverse fg-inverse rounded-lg text-sm font-medium" %>
    <% end %>
  <% end %>

  <p class="text-xs text-secondary text-center mt-2"><%= t("chats.ai_consent.disclaimer") %></p>
</div>
